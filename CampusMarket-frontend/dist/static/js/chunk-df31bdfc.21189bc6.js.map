{"version":3,"sources":["webpack:///./src/views/user/MyView.vue?816f","webpack:///src/views/user/MyView.vue","webpack:///./src/views/user/MyView.vue?ac20","webpack:///./src/views/user/MyView.vue","webpack:///./src/views/user/MyView.vue?9d39"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","clearView","productList","length","_l","product","index","key","$event","route","coverListParse","_v","_s","name","price","staticRenderFns","fetchProduct","methods","$axios","post","then","res","data","code","$notify","duration","title","message","msg","type","console","log","error","$router","push","id","coverList","newCoverList","split","component"],"mappings":"gJAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,aAAa,CAACG,MAAM,CAAC,QAAU,SAAS,UAAY,QAAQ,CAACH,EAAG,OAAO,CAACI,GAAG,CAAC,MAAQR,EAAIS,YAAY,CAACL,EAAG,IAAI,CAACE,YAAY,wBAAwB,GAA+B,IAA3BN,EAAIU,YAAYC,OAAcP,EAAG,SAAS,CAACG,MAAM,CAAC,QAAU,WAAW,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,YAAc,aAAa,GAAGH,EAAG,SAAS,CAACG,MAAM,CAAC,OAAS,GAAG,QAAU,WAAWP,EAAIY,GAAIZ,EAAe,aAAE,SAASa,EAAQC,GAAO,OAAOV,EAAG,SAAS,CAACW,IAAID,EAAMP,MAAM,CAAC,KAAO,IAAI,CAACH,EAAG,MAAM,CAACE,YAAY,eAAeE,GAAG,CAAC,MAAQ,SAASQ,GAAQ,OAAOhB,EAAIiB,MAAMJ,MAAY,CAACT,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,MAAM,CAACG,MAAM,CAAC,IAAMP,EAAIkB,eAAeL,GAAS,IAAM,YAAYT,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,SAAS,CAACN,EAAImB,GAAGnB,EAAIoB,GAAGP,EAAQQ,SAASjB,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,OAAO,CAACE,YAAY,kBAAkB,CAACN,EAAImB,GAAG,OAAOf,EAAG,OAAO,CAACE,YAAY,SAAS,CAACN,EAAImB,GAAGnB,EAAIoB,GAAGP,EAAQS,qBAAoB,IAAI,IACpiCC,EAAkB,GCiCtB,GACEF,KAAM,YACN,OACE,MAAO,CACLX,YAAa,KAGjB,UACET,KAAKuB,gBAEPC,QAAS,CACP,YACExB,KAAKyB,OAAOC,KAAK,gCAAgCC,KAAKC,IACpD,MAAM,KAAd,KAC0B,MAAdC,EAAKC,OACP9B,KAAK+B,QAAQ,CACXC,SAAU,IACVC,MAAO,SACPC,QAASL,EAAKM,IACdC,KAAM,YAERpC,KAAKuB,kBAEf,UACQc,QAAQC,IAAI,YAAaC,MAG7B,MAAM3B,GAEJZ,KAAKwC,QAAQC,KAAK,6BAA+B7B,EAAQ8B,KAO3D,eAAe9B,GACb,GAA0B,OAAtBA,EAAQ+B,UACV,OAEF,MAAMC,EAAehC,EAAQ+B,UAAUE,MAAM,KAC7C,OAAOD,EAAa,IAKtB,eACE5C,KAAKyB,OAAOC,KAAK,uBAAuBC,KAAKC,IAC3C,MAAM,KAAd,KAC0B,MAAdC,EAAKC,OACP9B,KAAKS,YAAcoB,EAAKA,QAElC,UACQQ,QAAQC,IAAI,UAAWC,QCvFgR,I,wBCQ3SO,EAAY,eACd,EACAhD,EACAwB,GACA,EACA,KACA,WACA,MAIa,aAAAwB,E,2CCnBf","file":"static/js/chunk-df31bdfc.21189bc6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"product-list\"},[_c('div',{staticClass:\"clear-message\"},[_c('el-tooltip',{attrs:{\"content\":\"清除浏览记录\",\"placement\":\"top\"}},[_c('span',{on:{\"click\":_vm.clearView}},[_c('i',{staticClass:\"el-icon-delete\"})])])],1),(_vm.productList.length === 0)?_c('el-row',{attrs:{\"justify\":\"center\"}},[_c('el-empty',{attrs:{\"description\":\"浏览记录为空\"}})],1):_c('el-row',{attrs:{\"gutter\":20,\"justify\":\"center\"}},_vm._l((_vm.productList),function(product,index){return _c('el-col',{key:index,attrs:{\"span\":6}},[_c('div',{staticClass:\"item-product\",on:{\"click\":function($event){return _vm.route(product)}}},[_c('div',{staticClass:\"cover\"},[_c('img',{attrs:{\"src\":_vm.coverListParse(product),\"alt\":\"商品图片\"}})]),_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(product.name))]),_c('div',{staticClass:\"price-row\"},[_c('span',{staticClass:\"decimel-symbol\"},[_vm._v(\"¥\")]),_c('span',{staticClass:\"price\"},[_vm._v(_vm._s(product.price))])])])])])}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"product-list\">\n    <div class=\"clear-message\">\n      <el-tooltip content=\"清除浏览记录\" placement=\"top\">\n        <span @click=\"clearView\">\n          <i class=\"el-icon-delete\"></i>\n        </span>\n      </el-tooltip>\n    </div>\n\n    <el-row v-if=\"productList.length === 0\" justify=\"center\">\n      <el-empty description=\"浏览记录为空\"></el-empty>\n    </el-row>\n\n    <el-row v-else :gutter=\"20\" justify=\"center\">\n      <el-col :span=\"6\" v-for=\"(product, index) in productList\" :key=\"index\">\n        <div class=\"item-product\" @click=\"route(product)\">\n          <div class=\"cover\">\n            <img :src=\"coverListParse(product)\" alt=\"商品图片\" />\n            <!-- <span class=\"bargain\">{{ product.isBargain ? '支持砍价' : '不支持' }}</span> -->\n          </div>\n          <div class=\"info\">\n            <div class=\"title\">{{ product.name }}</div>\n            <div class=\"price-row\">\n              <span class=\"decimel-symbol\">¥</span>\n              <span class=\"price\">{{ product.price }}</span>\n            </div>\n          </div>\n        </div>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n<script>\nexport default {\n  name: 'MyProduct',\n  data() {\n    return {\n      productList: []\n    };\n  },\n  created() {\n    this.fetchProduct();\n  },\n  methods: {\n    clearView() {\n      this.$axios.post(`/interaction/batchDeleteView`).then(res => {\n        const { data } = res; // 解构\n        if (data.code === 200) {\n          this.$notify({\n            duration: 1000,\n            title: '足迹清除成功',\n            message: data.msg,\n            type: 'success'\n          });\n          this.fetchProduct();\n        }\n      }).catch(error => {\n        console.log(\"商品足迹清除异常：\", error);\n      })\n    },\n    route(product) {\n      // 跳转商品详情\n      this.$router.push('/product-detail?productId=' + product.id);\n    },\n    /**\n     * 商品封面图处理\n     * 从字符串转成可用数组\n     * @param {*} product 待处理商品信息\n     */\n    coverListParse(product) {\n      if (product.coverList === null) {\n        return;\n      }\n      const newCoverList = product.coverList.split(',');\n      return newCoverList[0];\n    },\n    /**\n     * 查询用户自己发布的商品信息\n     */\n    fetchProduct() {\n      this.$axios.post('/interaction/myView').then(res => {\n        const { data } = res; // 解构\n        if (data.code === 200) {\n          this.productList = data.data;\n        }\n      }).catch(error => {\n        console.log(\"商品查询异常：\", error);\n      })\n    },\n  }\n};\n</script>\n<style scoped lang=\"scss\">\n.product-list {\n  padding: 30px;\n\n  .clear-message {\n    display: flex;\n    justify-content: flex-end;\n    margin-bottom: 20px;\n\n    span {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      width: 36px;\n      height: 36px;\n      border-radius: 50%;\n      background-color: #e3f2fd;\n      color: #007bff;\n      cursor: pointer;\n      transition: background-color 0.3s ease;\n\n      &:hover {\n        background-color: #cce4fb;\n      }\n\n      i {\n        font-size: 18px;\n      }\n    }\n  }\n\n  .item-product {\n    background: #ffffff;\n    border-radius: 12px;\n    overflow: hidden;\n    transition: all 0.3s ease;\n    box-shadow: 0 2px 6px rgba(0, 123, 255, 0.1);\n    cursor: pointer;\n\n    &:hover {\n      box-shadow: 0 6px 20px rgba(0, 123, 255, 0.2);\n      transform: translateY(-4px);\n    }\n\n    .cover {\n      position: relative;\n\n      img {\n        width: 100%;\n        height: 240px;\n        object-fit: cover;\n        border-radius: 12px 12px 0 0;\n      }\n\n      .bargain {\n        position: absolute;\n        top: 10px;\n        left: 10px;\n        background-color: #d0eaff;\n        color: #007bff;\n        font-size: 12px;\n        font-weight: bold;\n        padding: 4px 8px;\n        border-radius: 6px;\n      }\n    }\n\n    .info {\n      padding: 14px;\n\n      .title {\n        font-size: 18px;\n        font-weight: 600;\n        color: #333;\n        margin-bottom: 8px;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n\n      .price-row {\n        display: flex;\n        align-items: baseline;\n        gap: 4px;\n\n        .decimel-symbol {\n          font-size: 14px;\n          color: #007bff;\n          font-weight: bold;\n        }\n\n        .price {\n          font-size: 22px;\n          color: #007bff;\n          font-weight: bold;\n        }\n      }\n    }\n  }\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MyView.vue?vue&type=template&id=8b066706&scoped=true&\"\nimport script from \"./MyView.vue?vue&type=script&lang=js&\"\nexport * from \"./MyView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MyView.vue?vue&type=style&index=0&id=8b066706&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8b066706\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyView.vue?vue&type=style&index=0&id=8b066706&scoped=true&lang=scss&\""],"sourceRoot":""}