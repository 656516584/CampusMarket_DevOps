{"version":3,"sources":["webpack:///./src/views/user/ProductList.vue?da7c","webpack:///./src/views/user/Space.vue?1894","webpack:///./src/views/user/Space.vue?68a7","webpack:///./src/views/user/ProductList.vue?cb5b","webpack:///src/views/user/ProductList.vue","webpack:///./src/views/user/ProductList.vue?0644","webpack:///./src/views/user/ProductList.vue","webpack:///src/views/user/Space.vue","webpack:///./src/views/user/Space.vue?f336","webpack:///./src/views/user/Space.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","userAvatar","selfInfo","id","userInfo","staticStyle","starFlag","on","toggleStar","_v","_s","_e","userName","userEmail","class","isLogin","isWord","$event","handleRouteSelect","staticRenderFns","productList","length","_l","product","index","key","route","coverListParse","name","price","props","userId","type","Number","String","required","fetchProduct","methods","$router","push","confirmed","$swalConfirm","title","text","icon","ids","response","$axios","post","data","code","$notify","duration","message","error","console","coverList","newCoverList","split","get","then","res","log","component"],"mappings":"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","file":"static/js/chunk-72f7b592.e13f8838.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductList.vue?vue&type=style&index=0&id=67a2b89d&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Space.vue?vue&type=style&index=0&id=3090c99e&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user-space\"},[_c('div',{staticClass:\"user-info-panel\"},[_c('div',{staticClass:\"avatar-wrapper\"},[(_vm.userAvatar)?_c('img',{staticClass:\"avatar-img\",attrs:{\"src\":_vm.userAvatar}}):_c('i',{staticClass:\"el-icon-plus avatar-placeholder\"})]),(_vm.selfInfo.id && _vm.selfInfo.id !== _vm.userInfo.id)?_c('div',{staticClass:\"follow-btn\"},[_c('el-button',{staticStyle:{\"height\":\"40px\",\"width\":\"120px\",\"font-size\":\"20px\"},attrs:{\"type\":_vm.starFlag ? 'danger' : 'primary',\"size\":\"medium\",\"round\":\"\"},on:{\"click\":_vm.toggleStar}},[_vm._v(\" \"+_vm._s(_vm.starFlag ? '取消关注' : '关注TA')+\" \")])],1):_vm._e(),_c('div',{staticClass:\"info-item\"},[_c('p',{staticClass:\"label\"},[_vm._v(\"昵称\")]),_c('div',{staticClass:\"value\"},[_vm._v(_vm._s(_vm.userInfo.userName))])]),_c('div',{staticClass:\"info-item\"},[_c('p',{staticClass:\"label\"},[_vm._v(\"邮箱\")]),_c('div',{staticClass:\"value\"},[_vm._v(_vm._s(_vm.userInfo.userEmail))])]),_c('div',{staticClass:\"info-item\"},[_c('p',{staticClass:\"label\"},[_vm._v(\" 账号状态 \"),_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"一经封号，不可登录，不可使用系统功能\",\"placement\":\"right\"}},[_c('i',{staticClass:\"el-icon-info\"})])],1),_c('div',{class:['status-tag', !_vm.userInfo.isLogin ? 'normal' : 'banned']},[_c('i',{class:!_vm.userInfo.isLogin ? 'el-icon-circle-check' : 'el-icon-warning-outline'}),_vm._v(\" \"+_vm._s(!_vm.userInfo.isLogin ? '正常' : '已被封禁')+\" \")])]),_c('div',{staticClass:\"info-item\"},[_c('p',{staticClass:\"label\"},[_vm._v(\" 留言状态 \"),_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"禁言后，互动功能受限\",\"placement\":\"right\"}},[_c('i',{staticClass:\"el-icon-info\"})])],1),_c('div',{class:['status-tag', !_vm.userInfo.isWord ? 'normal' : 'banned']},[_c('i',{class:!_vm.userInfo.isWord ? 'el-icon-circle-check' : 'el-icon-warning-outline'}),_vm._v(\" \"+_vm._s(!_vm.userInfo.isWord ? '正常' : '已被封禁')+\" \")])]),(!_vm.userInfo.isLogin && _vm.selfInfo.id === _vm.userInfo.id)?_c('div',{staticClass:\"edit-btn\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"round\":\"\"},on:{\"click\":function($event){return _vm.handleRouteSelect('/myself')}}},[_vm._v(\" 编辑资料 \")])],1):_vm._e()]),_c('div',{staticClass:\"product-list\"},[(_vm.userInfo.id)?_c('ProductList',{attrs:{\"userId\":_vm.userInfo.id}}):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"product-list\"},[(_vm.productList.length === 0)?_c('el-row',{attrs:{\"justify\":\"center\"}},[_c('el-empty',{attrs:{\"description\":\"暂无商品信息\"}})],1):_c('el-row',{attrs:{\"gutter\":20,\"justify\":\"center\"}},_vm._l((_vm.productList),function(product,index){return _c('el-col',{key:index,attrs:{\"span\":6}},[_c('div',{staticClass:\"item-product\",on:{\"click\":function($event){return _vm.route(product)}}},[_c('div',{staticClass:\"cover\"},[_c('img',{attrs:{\"src\":_vm.coverListParse(product),\"alt\":\"商品封面\"}})]),_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(product.name))]),_c('div',{staticClass:\"price-row\"},[_c('span',{staticClass:\"decimel-symbol\"},[_vm._v(\"¥\")]),_c('span',{staticClass:\"price\"},[_vm._v(_vm._s(product.price))])])])])])}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"product-list\">\n    <el-row v-if=\"productList.length === 0\" justify=\"center\">\n      <el-empty description=\"暂无商品信息\"></el-empty>\n    </el-row>\n    <el-row v-else :gutter=\"20\" justify=\"center\">\n      <el-col :span=\"6\" v-for=\"(product, index) in productList\" :key=\"index\">\n        <div class=\"item-product\" @click=\"route(product)\">\n          <div class=\"cover\">\n            <img :src=\"coverListParse(product)\" alt=\"商品封面\" />\n            <!-- <span class=\"bargain\">{{ product.isBargain ? '支持砍价' : '不支持砍价' }}</span> -->\n          </div>\n          <div class=\"info\">\n            <div class=\"title\">{{ product.name }}</div>\n            <div class=\"price-row\">\n              <span class=\"decimel-symbol\">¥</span>\n              <span class=\"price\">{{ product.price }}</span>\n            </div>\n          </div>\n        </div>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n<script>\nimport { setProductInfo } from \"@/utils/storage\"\nexport default {\n  name: 'ProductList',\n  props: {\n    userId: {\n      type: [Number, String],\n      required: true\n    }\n  },\n  data() {\n    return {\n      productList: []\n    };\n  },\n  created() {\n    // console.log(this.userId);\n    this.fetchProduct();\n  },\n  methods: {\n    route(product) {\n      // 跳转商品详情\n      this.$router.push('/product-detail?productId=' + product.id);\n    },\n    /**\n     * 商品编辑\n     * @param {*} product 待处理的商品信息\n     */\n    handleEdit(product) {\n      // 先将待操作商品信息存起来\n      setProductInfo(product);\n      this.$router.push('/edit-product');\n    },\n    /**\n     * 商品删除\n     * @param {*} product 待操作商品信息\n     */\n    async handleDelete(product) {\n      const confirmed = await this.$swalConfirm({\n        title: `删除【${product.name}】商品`,\n        text: `删除后不可恢复，是否继续？`,\n        icon: 'warning',\n      });\n      if (confirmed) {\n        try {\n          let ids = [product.id]\n          const response = await this.$axios.post(`/product/batchDelete`, ids);\n          if (response.data.code === 200) {\n            this.$notify({\n              duration: 1000,\n              title: '信息删除',\n              message: '删除成功',\n              type: 'success'\n            });\n            this.fetchProduct();\n            return;\n          }\n        } catch (error) {\n          this.$notify({\n            duration: 2000,\n            title: '信息删除',\n            message: error,\n            type: 'error'\n          });\n          console.error(`商品信息删除异常：`, error);\n        }\n      }\n\n    },\n    /**\n     * 商品封面图处理\n     * 从字符串转成可用数组\n     * @param {*} product 待处理商品信息\n     */\n    coverListParse(product) {\n      if (product.coverList === null) {\n        return;\n      }\n      const newCoverList = product.coverList.split(',');\n      return newCoverList[0];\n    },\n    /**\n     * 查询用户自己发布的商品信息\n     */\n    fetchProduct() {\n      this.$axios.get('/product/getById/' + this.userId, {}).then(res => {\n        const { data } = res; // 解构\n        if (data.code === 200) {\n          this.productList = data.data;\n        }\n      }).catch(error => {\n        console.log(\"商品查询异常：\", error);\n      })\n    },\n  }\n};\n</script>\n<style scoped lang=\"scss\">\n.product-list {\n  padding: 30px;\n\n  .item-product {\n    background-color: #ffffff;\n    border-radius: 12px;\n    overflow: hidden;\n    box-shadow: 0 4px 12px rgba(0, 123, 255, 0.1);\n    transition: all 0.3s ease;\n    cursor: pointer;\n\n    &:hover {\n      box-shadow: 0 6px 18px rgba(0, 123, 255, 0.2);\n      transform: translateY(-4px);\n    }\n\n    .cover {\n      position: relative;\n\n      img {\n        width: 100%;\n        height: 220px;\n        object-fit: cover;\n        border-bottom: 1px solid #eee;\n        border-radius: 12px 12px 0 0;\n      }\n\n      .bargain {\n        position: absolute;\n        top: 10px;\n        left: 10px;\n        background-color: #e3f2fd;\n        color: #007bff;\n        font-size: 12px;\n        font-weight: bold;\n        padding: 4px 8px;\n        border-radius: 6px;\n      }\n    }\n\n    .info {\n      padding: 15px;\n\n      .title {\n        font-size: 18px;\n        font-weight: 600;\n        color: #1f1f1f;\n        margin-bottom: 10px;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n\n      .price-row {\n        display: flex;\n        align-items: baseline;\n        gap: 4px;\n\n        .decimel-symbol {\n          font-size: 14px;\n          color: #007bff;\n          font-weight: bold;\n        }\n\n        .price {\n          font-size: 22px;\n          color: #007bff;\n          font-weight: bold;\n        }\n      }\n    }\n  }\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProductList.vue?vue&type=template&id=67a2b89d&scoped=true&\"\nimport script from \"./ProductList.vue?vue&type=script&lang=js&\"\nexport * from \"./ProductList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProductList.vue?vue&type=style&index=0&id=67a2b89d&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"67a2b89d\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"user-space\">\n      <!-- 左侧信息面板 -->\n      <div class=\"user-info-panel\">\n        <!-- 头像 -->\n        <div class=\"avatar-wrapper\">\n          <img v-if=\"userAvatar\" :src=\"userAvatar\" class=\"avatar-img\" />\n          <i v-else class=\"el-icon-plus avatar-placeholder\"></i>\n        </div>\n  \n        <!-- 关注按钮 -->\n        <div v-if=\"selfInfo.id && selfInfo.id !== userInfo.id\" class=\"follow-btn\">\n          <el-button\n            :type=\"starFlag ? 'danger' : 'primary'\"\n            @click=\"toggleStar\"\n            size=\"medium\"\n            style=\"height: 40px; width: 120px; font-size: 20px;\"\n            round>\n            {{ starFlag ? '取消关注' : '关注TA' }}\n          </el-button>\n        </div>\n  \n        <!-- 昵称 -->\n        <div class=\"info-item\">\n          <p class=\"label\">昵称</p>\n          <div class=\"value\">{{ userInfo.userName }}</div>\n        </div>\n  \n        <!-- 邮箱 -->\n        <div class=\"info-item\">\n          <p class=\"label\">邮箱</p>\n          <div class=\"value\">{{ userInfo.userEmail }}</div>\n        </div>\n  \n        <!-- 账号状态 -->\n        <div class=\"info-item\">\n          <p class=\"label\">\n            账号状态\n            <el-tooltip effect=\"dark\" content=\"一经封号，不可登录，不可使用系统功能\" placement=\"right\">\n              <i class=\"el-icon-info\"></i>\n            </el-tooltip>\n          </p>\n          <div :class=\"['status-tag', !userInfo.isLogin ? 'normal' : 'banned']\">\n            <i :class=\"!userInfo.isLogin ? 'el-icon-circle-check' : 'el-icon-warning-outline'\"></i>\n            {{ !userInfo.isLogin ? '正常' : '已被封禁' }}\n          </div>\n        </div>\n  \n        <!-- 留言状态 -->\n        <div class=\"info-item\">\n          <p class=\"label\">\n            留言状态\n            <el-tooltip effect=\"dark\" content=\"禁言后，互动功能受限\" placement=\"right\">\n              <i class=\"el-icon-info\"></i>\n            </el-tooltip>\n          </p>\n          <div :class=\"['status-tag', !userInfo.isWord ? 'normal' : 'banned']\">\n            <i :class=\"!userInfo.isWord ? 'el-icon-circle-check' : 'el-icon-warning-outline'\"></i>\n            {{ !userInfo.isWord ? '正常' : '已被封禁' }}\n          </div>\n        </div>\n  \n        <!-- 编辑按钮 -->\n        <div v-if=\"!userInfo.isLogin && selfInfo.id === userInfo.id\" class=\"edit-btn\">\n          <el-button type=\"primary\" size=\"mini\" round @click=\"handleRouteSelect('/myself')\">\n            编辑资料\n          </el-button>\n        </div>\n      </div>\n  \n      <!-- 右侧商品列表 -->\n      <div class=\"product-list\">\n        <ProductList v-if=\"userInfo.id\" :userId=\"userInfo.id\" />\n      </div>\n    </div>\n  </template>\n<script>\nimport ProductList from '@/views/user/ProductList'\nexport default {\n    components: { ProductList },\n    name: \"Space\",\n    data() {\n        return {\n            selfInfo: {},\n            userInfo: {},\n            userAvatar: '',\n            starFlag: false,\n        }\n    },\n    created() {\n        // this.auth();\n        this.getParam();\n    },\n    methods: {\n        // async auth() {\n        //     const { data } = await this.$axios.get('/user/auth');\n        //     if (data.code !== 200) { // Token校验异常\n        //         this.$router.push('/');\n        //     } else {\n        //         this.userInfo = data.data;\n        //         this.userAvatar = data.data.userAvatar;\n        //     }\n        // },\n        getParam() {\n            const param = this.$route.query;\n            this.userId = Number(param.userId);\n            // console.log(this.userId);\n            this.auth();\n        },\n        auth() {\n            this.$axios.get('/user/auth').then(res => {\n                const { data } = res;\n                if (data.code === 200) {\n                    this.selfInfo = data.data;\n                    this.fetchUser();\n                }\n            }).catch(error => {\n                this.$notify.error({\n                    title: '查询异常',\n                    message: error\n                });\n            });\n        },\n        fetchUser() {\n            this.$axios.get('/user/getById/' + this.userId).then(res => {\n                const { data } = res;\n                if (data.code !== 200) { // Token校验异常\n                    this.$router.push('/');\n                } else {\n                    this.userInfo = data.data;\n                    this.userAvatar = data.data.userAvatar;\n                    this.fetchStar();\n                }\n            }).catch(error => {\n                this.$notify.error({\n                    title: '查询异常',\n                    message: error\n                });\n            });\n        },\n        fetchStar() {\n            const starQueryDto = {\n                user1Id: this.selfInfo.id,\n                user2Id: this.userInfo.id\n            };\n            this.$axios.post('/star/query', starQueryDto).then(res => {\n                const { data } = res; // 解构\n                if (data.code === 200) {\n                    // 代表没有收藏\n                    this.starFlag = data.total !== 0;\n                }\n            }).catch(error => {\n                console.log(\"商品查询异常：\", error);\n            })\n        },\n        handleRouteSelect(path) {\n            if (this.$router.currentRoute.fullPath !== path) {\n                this.$router.push(path);\n            }\n        },\n        toggleStar() {\n            // console.log(this.starFlag);\n            this.$axios.post(`/star/starOperation/${this.userInfo.id}`).then(res => {\n                const { data } = res; // 解构\n                if (data.code === 200) {\n                    this.starFlag = data.data;\n                    this.$notify({\n                        duration: 1000,\n                        title: '关注操作成功',\n                        message: data.msg,\n                        type: 'success'\n                    });\n                }\n            }).catch(error => {\n                console.log(\"关注异常：\", error);\n            })\n        },\n    }\n};\n</script>\n<style scoped lang=\"scss\">\n.user-space {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 40px;\n  padding: 40px;\n  background-color: #f5f9ff;\n}\n\n.user-info-panel {\n  width: 320px;\n  background-color: #ffffff;\n  border-radius: 12px;\n  padding: 20px;\n  box-shadow: 0 2px 12px rgba(64, 158, 255, 0.1);\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n}\n\n.avatar-wrapper {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.avatar-img {\n  width: 100px;\n  height: 100px;\n  border-radius: 50%;\n  object-fit: cover;\n  border: 3px solid #409eff;\n}\n\n.avatar-placeholder {\n  font-size: 50px;\n  color: #a0cfff;\n  border: 2px dashed #a0cfff;\n  border-radius: 50%;\n  width: 100px;\n  height: 100px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.follow-btn {\n  text-align: center;\n  .el-button {\n    background: linear-gradient(to right, #409eff, #66b1ff);\n    border: none;\n    color: white;\n    font-weight: 600;\n    transition: all 0.3s ease;\n    &:hover {\n      background: linear-gradient(to right, #66b1ff, #409eff);\n      transform: scale(1.05);\n    }\n  }\n}\n\n.info-item {\n  .label {\n    font-size: 14px;\n    font-weight: 600;\n    margin-bottom: 6px;\n    color: #333;\n  }\n\n  .value {\n    font-size: 15px;\n    font-weight: 500;\n    background-color: #f0f6ff;\n    padding: 8px 12px;\n    border-radius: 6px;\n    color: #409eff;\n  }\n}\n\n.status-tag {\n  display: inline-flex;\n  align-items: center;\n  gap: 6px;\n  font-size: 14px;\n  font-weight: 500;\n  padding: 6px 12px;\n  border-radius: 20px;\n\n  &.normal {\n    color: #409eff;\n    background-color: #eaf4ff;\n  }\n\n  &.banned {\n    color: #e63f31;\n    background-color: #ffeceb;\n    text-decoration: underline dashed;\n  }\n}\n\n.edit-btn {\n  text-align: center;\n  margin-top: 10px;\n  .el-button {\n    background-color: #409eff;\n    border: none;\n    color: white;\n    transition: background-color 0.3s ease;\n    &:hover {\n      background-color: #66b1ff;\n    }\n  }\n}\n\n.product-list {\n  flex: 1;\n  min-width: 0;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Space.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Space.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Space.vue?vue&type=template&id=3090c99e&scoped=true&\"\nimport script from \"./Space.vue?vue&type=script&lang=js&\"\nexport * from \"./Space.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Space.vue?vue&type=style&index=0&id=3090c99e&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3090c99e\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}