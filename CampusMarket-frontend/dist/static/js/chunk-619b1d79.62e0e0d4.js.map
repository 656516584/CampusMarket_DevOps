{"version":3,"sources":["webpack:///./src/views/user/Star.vue?db17","webpack:///./src/views/user/Star.vue?8dc2","webpack:///src/views/user/Star.vue","webpack:///./src/views/user/Star.vue?8494","webpack:///./src/views/user/Star.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","userList","length","attrs","_e","_l","id","index","key","on","$event","route","userAvatar","_v","_s","userName","staticRenderFns","component"],"mappings":"yIAAA,W,yCCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAA0B,IAAxBN,EAAIO,SAASC,OAAcJ,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,WAAW,CAACK,MAAM,CAAC,YAAc,aAAa,GAAGT,EAAIU,KAAKN,EAAG,SAAS,CAACK,MAAM,CAAC,OAAS,KAAKT,EAAIW,GAAIX,EAAY,UAAE,SAASY,EAAGC,GAAO,OAAOT,EAAG,SAAS,CAACU,IAAID,EAAMJ,MAAM,CAAC,KAAO,KAAK,CAACL,EAAG,MAAM,CAACE,YAAY,YAAYS,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOhB,EAAIiB,MAAM,iBAAmBL,EAAGA,OAAO,CAACR,EAAG,MAAM,CAACK,MAAM,CAAC,IAAMG,EAAGM,WAAW,IAAM,GAAG,OAAS,MAAMd,EAAG,MAAM,CAACE,YAAY,aAAa,CAACN,EAAImB,GAAGnB,EAAIoB,GAAGR,EAAGS,oBAAmB,IAAI,IAClnBC,EAAkB,GCgBtB,GACE,KAAF,OACE,OACE,MAAJ,CACM,SAAN,GACM,WAAN,GACM,SAAN,KAIE,UACE,KAAJ,QAEE,QAAF,CAEI,MAAJ,GAGM,KAAN,iBAGI,YACE,KAAN,gEACQ,MAAR,KAAU,GAAV,EACA,eACU,KAAV,mBAEA,UACQ,QAAR,kBAKI,iBACE,MAAN,SAAQ,EAAR,UAAQ,GAAR,cACA,GACQ,WAAR,gBACQ,WACA,cAER,KAAQ,SAAR,kCACM,KAAN,SACQ,SAAR,eACQ,SAAR,IACQ,MAAR,SACQ,QAAR,2BACQ,KAAR,iCAGA,cACQ,KAAR,QAII,oBAAJ,KACM,KAAN,SACQ,SAAR,KACQ,MAAR,OACQ,QAAR,2BACQ,KAAR,iCAGA,eACQ,KAAR,oBAII,OAEE,KAAN,kCACQ,MAAR,KAAU,GAAV,EACA,eACU,KAAV,gBACU,KAAV,6BACU,KAAV,eAEA,UACQ,KAAR,eACU,MAAV,OACU,QAAV,SChG6S,I,wBCQzSC,EAAY,eACd,EACAxB,EACAuB,GACA,EACA,KACA,WACA,MAIa,aAAAC,E","file":"static/js/chunk-619b1d79.62e0e0d4.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Star.vue?vue&type=style&index=0&id=49038a56&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"star-container\"},[(_vm.userList.length === 0)?_c('div',{staticClass:\"empty\"},[_c('el-empty',{attrs:{\"description\":\"暂无关注用户\"}})],1):_vm._e(),_c('el-row',{attrs:{\"gutter\":20}},_vm._l((_vm.userList),function(id,index){return _c('el-col',{key:index,attrs:{\"span\":24}},[_c('div',{staticClass:\"user-card\",on:{\"click\":function($event){return _vm.route('/space?userId=' + id.id)}}},[_c('img',{attrs:{\"src\":id.userAvatar,\"alt\":\"\",\"srcset\":\"\"}}),_c('div',{staticClass:\"user-name\"},[_vm._v(_vm._s(id.userName))])])])}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"star-container\">\n        <div v-if=\"userList.length === 0\" class=\"empty\">\n\n            <el-empty description=\"暂无关注用户\"></el-empty>\n        </div>\n        <el-row :gutter=\"20\">\n            <el-col :span=\"24\" v-for=\"(id, index) in userList\" :key=\"index\">\n                <div class=\"user-card\" @click=\"route('/space?userId=' + id.id)\">\n                    <img :src=\"id.userAvatar\" alt=\"\" srcset=\"\">\n                    <div class=\"user-name\">{{ id.userName }}</div>\n                </div>\n            </el-col>\n        </el-row>\n    </div>\n</template>\n<script>\nexport default {\n    name: \"Star\",\n    data() {\n        return {\n            userInfo: {},\n            userAvatar: '',\n            userList: [],\n        }\n    },\n\n    created() {\n        this.auth();\n    },\n    methods: {\n\n        route(path) {\n            // 跳转关注列表\n            // console.log(this.userInfo.id);\n            this.$router.push(path);\n        },\n\n        fetchStar() {\n            this.$axios.post('/star/queryByUser1/' + this.userInfo.id, {}).then(res => {\n                const { data } = res; // 解构\n                if (data.code === 200) {\n                    this.userList = data.data;\n                }\n            }).catch(error => {\n                console.log(\"关注异常：\", error);\n            })\n        },\n\n        // 提交个人信息修改\n        async postInfo() {\n            const { userName, userEmail } = this.userInfo;\n            const userUpdateDTO = {\n                userAvatar: this.userAvatar,\n                userName,\n                userEmail\n            }\n            const { data } = await this.$axios.put('/user/update', userUpdateDTO);\n            this.$notify({\n                position: 'buttom-right',\n                duration: 1000,\n                title: '编辑个人信息',\n                message: data.code === 200 ? '编辑成功' : '编辑失败',\n                type: data.code === 200 ? 'success' : 'error'\n            });\n            // 返回首页\n            if (data.code === 200) {\n                this.auth();\n            }\n        },\n        // 头像上传\n        handleAvatarSuccess(res, file) {\n            this.$notify({\n                duration: 1500,\n                title: '头像上传',\n                message: res.code === 200 ? '上传成功' : '上传失败',\n                type: res.code === 200 ? 'success' : 'error'\n            });\n            // 上传成功则更新用户头像\n            if (res.code === 200) {\n                this.userAvatar = res.data;\n            }\n        },\n        // Token 检验 ,取得用户信息\n        auth() {\n\n            this.$axios.get('/user/auth').then(res => {\n                const { data } = res;\n                if (data.code === 200) {\n                    this.userInfo = data.data;\n                    this.userAvatar = data.data.userAvatar;\n                    this.fetchStar();\n                }\n            }).catch(error => {\n                this.$notify.error({\n                    title: '查询异常',\n                    message: error\n                });\n            });\n        },\n    }\n};\n</script>\n<style scoped lang=\"scss\">\n.star-container {\n    max-width: 600px;\n    margin: 30px auto;\n    padding: 20px;\n\n    .title {\n        font-size: 24px;\n        font-weight: 700;\n        text-align: center;\n        margin-bottom: 30px;\n        color: #333;\n    }\n\n    .empty {\n        text-align: center;\n        font-size: 16px;\n        color: #aaa;\n        margin-top: 20px;\n    }\n\n    .user-card {\n        display: flex;\n        align-items: center;\n        gap: 20px;\n        padding: 12px 20px;\n        margin-bottom: 15px;\n        background-color: #fff;\n        border-radius: 12px;\n        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);\n        transition: all 0.3s ease;\n        cursor: pointer;\n\n        &:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);\n        }\n\n        img {\n            width: 60px;\n            height: 60px;\n            border-radius: 50%;\n            border: 2px solid #f2f2f2;\n            object-fit: cover;\n        }\n\n        .user-name {\n            font-size: 18px;\n            font-weight: 600;\n            color: #333;\n        }\n    }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Star.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Star.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Star.vue?vue&type=template&id=49038a56&scoped=true&\"\nimport script from \"./Star.vue?vue&type=script&lang=js&\"\nexport * from \"./Star.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Star.vue?vue&type=style&index=0&id=49038a56&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"49038a56\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}