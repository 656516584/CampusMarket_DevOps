(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-702a11da"],{"43ff":function(t,s,e){},"77ec":function(t,s,e){"use strict";e("43ff")},"79f4":function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"product-list"},[0===t.productList.length?e("el-row",{attrs:{justify:"center"}},[e("el-empty",{attrs:{description:"暂无商品信息"}})],1):e("el-row",{attrs:{gutter:20,justify:"center"}},t._l(t.productList,(function(s,i){return e("el-col",{key:i,attrs:{span:6}},[e("div",{staticClass:"item-product",on:{click:function(e){return t.route(s)}}},[e("div",{staticClass:"cover"},[e("img",{attrs:{src:t.coverListParse(s),alt:"product-cover"}})]),e("div",{staticClass:"info"},[e("div",{staticClass:"title"},[t._v(t._s(s.name))]),e("div",{staticClass:"price-row"},[e("span",{staticClass:"price-symbol"},[t._v("¥")]),e("span",{staticClass:"price"},[t._v(t._s(s.price))]),e("span",{staticClass:"love"},[t._v(t._s(s.likeNumber)+" 人想要")])]),e("div",{staticClass:"actions"},[e("span",{staticClass:"edit",on:{click:function(e){return e.stopPropagation(),t.handleEdit(s)}}},[t._v("编辑")]),e("span",{staticClass:"delete",on:{click:function(e){return e.stopPropagation(),t.handleDelete(s)}}},[t._v("删除")])])])])])})),1)],1)},c=[],r=e("5d2d"),a={name:"MyProduct",data(){return{productList:[]}},created(){this.fetchProduct()},methods:{route(t){this.$router.push("/product-detail?productId="+t.id)},handleEdit(t){Object(r["f"])(t),this.$router.push("/edit-product")},async handleDelete(t){const s=await this.$swalConfirm({title:`删除【${t.name}】商品`,text:"删除后不可恢复，是否继续？",icon:"warning"});if(s)try{let s=[t.id];const e=await this.$axios.post("/product/batchDelete",s);if(200===e.data.code)return this.$notify({duration:1e3,title:"信息删除",message:"删除成功",type:"success"}),void this.fetchProduct()}catch(e){this.$notify({duration:2e3,title:"信息删除",message:e,type:"error"}),console.error("商品信息删除异常：",e)}},coverListParse(t){if(null===t.coverList)return;const s=t.coverList.split(",");return s[0]},fetchProduct(){this.$axios.post("/product/queryUser",{}).then(t=>{const{data:s}=t;200===s.code&&(this.productList=s.data)}).catch(t=>{console.log("商品查询异常：",t)})}}},o=a,n=(e("77ec"),e("2877")),d=Object(n["a"])(o,i,c,!1,null,"4d4d782a",null);s["default"]=d.exports}}]);
//# sourceMappingURL=chunk-702a11da.8fa21300.js.map