(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-619b1d79"],{"36bb":function(t,s,e){},6195:function(t,s,e){"use strict";e("36bb")},cd50:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"star-container"},[0===t.userList.length?e("div",{staticClass:"empty"},[e("el-empty",{attrs:{description:"暂无关注用户"}})],1):t._e(),e("el-row",{attrs:{gutter:20}},t._l(t.userList,(function(s,a){return e("el-col",{key:a,attrs:{span:24}},[e("div",{staticClass:"user-card",on:{click:function(e){return t.route("/space?userId="+s.id)}}},[e("img",{attrs:{src:s.userAvatar,alt:"",srcset:""}}),e("div",{staticClass:"user-name"},[t._v(t._s(s.userName))])])])})),1)],1)},r=[],i={name:"Star",data(){return{userInfo:{},userAvatar:"",userList:[]}},created(){this.auth()},methods:{route(t){this.$router.push(t)},fetchStar(){this.$axios.post("/star/queryByUser1/"+this.userInfo.id,{}).then(t=>{const{data:s}=t;200===s.code&&(this.userList=s.data)}).catch(t=>{console.log("关注异常：",t)})},async postInfo(){const{userName:t,userEmail:s}=this.userInfo,e={userAvatar:this.userAvatar,userName:t,userEmail:s},{data:a}=await this.$axios.put("/user/update",e);this.$notify({position:"buttom-right",duration:1e3,title:"编辑个人信息",message:200===a.code?"编辑成功":"编辑失败",type:200===a.code?"success":"error"}),200===a.code&&this.auth()},handleAvatarSuccess(t,s){this.$notify({duration:1500,title:"头像上传",message:200===t.code?"上传成功":"上传失败",type:200===t.code?"success":"error"}),200===t.code&&(this.userAvatar=t.data)},auth(){this.$axios.get("/user/auth").then(t=>{const{data:s}=t;200===s.code&&(this.userInfo=s.data,this.userAvatar=s.data.userAvatar,this.fetchStar())}).catch(t=>{this.$notify.error({title:"查询异常",message:t})})}}},u=i,o=(e("6195"),e("2877")),c=Object(o["a"])(u,a,r,!1,null,"49038a56",null);s["default"]=c.exports}}]);
//# sourceMappingURL=chunk-619b1d79.62e0e0d4.js.map