{"version":3,"sources":["webpack:///./src/views/user/Search.vue?9ba0","webpack:///src/views/user/Search.vue","webpack:///./src/views/user/Search.vue?4da4","webpack:///./src/views/user/Search.vue","webpack:///./src/views/user/Search.vue?192b"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","productList","length","attrs","_l","product","index","key","nativeOn","$event","route","coverListParse","staticStyle","_v","_s","name","price","userAvatar","userName","staticRenderFns","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAA6B,IAA3BN,EAAIO,YAAYC,OAAcJ,EAAG,SAAS,CAACA,EAAG,WAAW,CAACK,MAAM,CAAC,YAAc,aAAa,GAAGL,EAAG,SAASJ,EAAIU,GAAIV,EAAe,aAAE,SAASW,EAAQC,GAAO,OAAOR,EAAG,SAAS,CAACS,IAAID,EAAMH,MAAM,CAAC,KAAO,GAAGK,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAOf,EAAIgB,MAAML,MAAY,CAACP,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,MAAM,CAACK,MAAM,CAAC,IAAMT,EAAIiB,eAAeN,GAAS,IAAM,GAAG,OAAS,QAAQP,EAAG,MAAM,CAACc,YAAY,CAAC,QAAU,OAAO,kBAAkB,OAAO,IAAM,MAAM,cAAc,WAAW,CAACd,EAAG,OAAO,CAACE,YAAY,SAAS,CAACN,EAAImB,GAAG,IAAInB,EAAIoB,GAAGT,EAAQU,MAAM,SAASjB,EAAG,MAAM,CAACc,YAAY,CAAC,gBAAgB,SAAS,CAACd,EAAG,OAAO,CAACE,YAAY,kBAAkB,CAACN,EAAImB,GAAG,OAAOf,EAAG,OAAO,CAACE,YAAY,SAAS,CAACN,EAAImB,GAAGnB,EAAIoB,GAAGT,EAAQW,UAAUlB,EAAG,OAAO,CAACE,YAAY,QAAQ,CAACN,EAAImB,GAAG,YAAYf,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACK,MAAM,CAAC,IAAME,EAAQY,WAAW,IAAM,GAAG,OAAS,MAAMnB,EAAG,OAAO,CAACJ,EAAImB,GAAGnB,EAAIoB,GAAGT,EAAQa,sBAAqB,IAAI,IAC7kCC,EAAkB,G,YCiCtB,GACE,OACE,MAAJ,CACM,UAAN,GACM,YAAN,KACM,gBAAN,GACM,YAAN,KAGE,UACE,KAAJ,kBAEE,gBACE,KAAJ,kBAEE,QAAF,CACI,MAAJ,GAEM,KAAN,iDAEI,eAAJ,GACM,GAAN,mBACQ,OAEF,MAAN,yBACM,OAAN,MAEI,eACE,KAAN,oCACM,KAAN,4DACQ,MAAR,KAAU,GAAV,EACA,eACU,KAAV,sBAEA,UACQ,QAAR,oBAGI,UACE,MAAN,mBACA,qBACQ,KAAR,YACQ,KAAR,iBAGI,iBAEE,KAAN,6BACQ,KAAR,WACA,MAEI,iBAEJ,mBACQ,cAAR,kBACQ,KAAR,qBCzF+S,I,wBCQ3SC,EAAY,eACd,EACA3B,EACA0B,GACA,EACA,KACA,KACA,MAIa,aAAAC,E,2CCnBf,W","file":"static/js/chunk-6f59f48d.1fb0df71.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"product-list\"},[(_vm.productList.length === 0)?_c('el-row',[_c('el-empty',{attrs:{\"description\":\"暂无商品信息\"}})],1):_c('el-row',_vm._l((_vm.productList),function(product,index){return _c('el-col',{key:index,attrs:{\"span\":6},nativeOn:{\"click\":function($event){return _vm.route(product)}}},[_c('div',{staticClass:\"item-product\"},[_c('div',{staticClass:\"cover\"},[_c('img',{attrs:{\"src\":_vm.coverListParse(product),\"alt\":\"\",\"srcset\":\"\"}})]),_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"left\",\"gap\":\"4px\",\"align-items\":\"center\"}},[_c('span',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(product.name)+\" \")])]),_c('div',{staticStyle:{\"padding-block\":\"15px\"}},[_c('span',{staticClass:\"decimel-symbol\"},[_vm._v(\"¥\")]),_c('span',{staticClass:\"price\"},[_vm._v(_vm._s(product.price))]),_c('span',{staticClass:\"love\"},[_vm._v(\"4人想要\")])]),_c('div',{staticClass:\"info\"},[_c('img',{attrs:{\"src\":product.userAvatar,\"alt\":\"\",\"srcset\":\"\"}}),_c('span',[_vm._v(_vm._s(product.userName))])])])])}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"product-list\">\n        <el-row v-if=\"productList.length === 0\">\n            <el-empty description=\"暂无商品信息\"></el-empty>\n        </el-row>\n        <el-row v-else>\n            <el-col :span=\"6\" @click.native=\"route(product)\" v-for=\"(product, index) in productList\" :key=\"index\">\n                <div class=\"item-product\">\n                    <div class=\"cover\">\n                        <img :src=\"coverListParse(product)\" alt=\"\" srcset=\"\">\n                    </div>\n                    <div style=\"display: flex;justify-content: left;gap: 4px;align-items: center;\">\n                        <!-- <span class=\"bargain-hover\">{{ product.isBargain ? '支持砍价' : '不支持砍价' }}</span> -->\n                        <span class=\"title\">\n                            {{ product.name }}\n                        </span>\n                    </div>\n                    <div style=\"padding-block: 15px;\">\n                        <span class=\"decimel-symbol\">¥</span>\n                        <span class=\"price\">{{ product.price }}</span>\n                        <span class=\"love\">4人想要</span>\n                    </div>\n                    <div class=\"info\">\n                        <img :src=\"product.userAvatar\" alt=\"\" srcset=\"\">\n                        <span>{{ product.userName }}</span>\n                    </div>\n                </div>\n            </el-col>\n        </el-row>\n    </div>\n</template>\n\n<script>\nimport { getSearchKey } from \"@/utils/storage\";\nexport default {\n    data() {\n        return {\n            searchKey: '',\n            keyInterval: null, // 用于存储定时器的引用\n            productQueryDto: {},\n            productList: []\n        };\n    },\n    created() {\n        this.startKeyLoader(); // 启动定时器\n    },\n    beforeDestroy() {\n        this.clearKeyLoader(); // 清除定时器\n    },\n    methods: {\n        route(product) {\n            // 跳转商品详情\n            this.$router.push('/product-detail?productId=' + product.id);\n        },\n        coverListParse(product) {\n            if (product.coverList === null) {\n                return;\n            }\n            const newCoverList = product.coverList.split(',');\n            return newCoverList[0];\n        },\n        fetchProduct() {\n            this.productQueryDto.name = this.searchKey;\n            this.$axios.post('/product/query', this.productQueryDto).then(res => {\n                const { data } = res; // 解构\n                if (data.code === 200) {\n                    this.productList = data.data;\n                }\n            }).catch(error => {\n                console.log(\"商品查询异常：\", error);\n            })\n        },\n        loadKey() {\n            const key = getSearchKey();\n            if (key !== this.searchKey) {\n                this.searchKey = key;\n                this.fetchProduct();\n            }\n        },\n        startKeyLoader() {\n            // 每隔一定时间调用 loadKey 方法\n            this.keyInterval = setInterval(() => {\n                this.loadKey();\n            }, 1000); // 每1000毫秒（1秒）调用一次\n        },\n        clearKeyLoader() {\n            // 清除定时器\n            if (this.keyInterval) {\n                clearInterval(this.keyInterval);\n                this.keyInterval = null; // 重置定时器引用\n            }\n        }\n    }\n};\n</script>\n<style lang=\"scss\" scope>\n.product-list {\n    padding-block: 20px;\n\n    .item-product {\n        padding: 10px 10px 16px 10px;\n        box-sizing: border-box;\n        border-radius: 15px;\n        transition: all .5s;\n        cursor: pointer;\n\n        .cover {\n            img {\n                width: 100%;\n                height: 240px;\n                border-radius: 10px;\n            }\n        }\n\n        .bargain-hover {\n            font-size: 12px;\n            font-weight: 800;\n            background-color: rgb(255, 230, 15);\n            color: rgb(51, 51, 51);\n            border-radius: 2px;\n            padding: 2px 6px;\n        }\n\n        .title {\n            font-size: 20px;\n            color: #1f1f1f;\n        }\n\n        .decimel-symbol {\n            font-size: 14px;\n            color: #ff4f24;\n            font-weight: 800;\n        }\n\n        .price {\n            font-size: 24px;\n            color: #ff4f24;\n            font-weight: 800;\n            margin-right: 6px;\n        }\n\n        .love {\n            font-size: 14px;\n            color: #999;\n        }\n\n        .info {\n            display: flex;\n            justify-content: left;\n            align-items: center;\n            gap: 4px;\n\n            img {\n                width: 20px;\n                height: 20px;\n                border-radius: 50%;\n            }\n\n            span {\n                font-size: 14px;\n                color: #999;\n            }\n        }\n\n\n    }\n\n    .item-product:hover {\n        box-shadow: 1px 4px 6px rgba(0, 0, 0, 0.1), 0 1px 3px rgba(0, 0, 0, 0.06);\n    }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Search.vue?vue&type=template&id=b4e00ab4&\"\nimport script from \"./Search.vue?vue&type=script&lang=js&\"\nexport * from \"./Search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Search.vue?vue&type=style&index=0&lang=scss&scope=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=style&index=0&lang=scss&scope=true&\""],"sourceRoot":""}