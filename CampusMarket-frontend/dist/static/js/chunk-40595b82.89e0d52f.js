(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-40595b82"],{2241:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"logo"},[n("el-image",{staticStyle:{width:"30px",height:"30px"},attrs:{src:"/logo.png",fit:"fill"}}),t.flag?t._e():n("div",[n("span",{style:{color:t.bag,display:"block"}},[t._v(t._s(t.name))])])],1)},o=[],s={name:"Logo",data(){return{}},props:{name:{type:String,default:"系统"},flag:{type:Boolean,required:!1},bag:{type:String,default:"rgb(255,255,255)"}},created(){},methods:{}},i=s,c=(n("471f"),n("2877")),l=Object(c["a"])(i,a,o,!1,null,"169c8568",null);e["a"]=l.exports},"3d12":function(t,e,n){},"471f":function(t,e,n){"use strict";n("3d12")},"9d110":function(t,e,n){},ba5b:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"sidebar"},[n("div",{staticClass:"logo-box"},[n("Logo",{attrs:{name:"跳蚤市场"}})],1),n("div",{staticClass:"nav-links"},[n("span",{on:{click:function(e){return t.handleRouteSelect("/product")}}},[t._v("商品")]),t.loginStatus?n("span",{on:{click:function(e){return t.handleRouteSelect("/myProduct")}}},[t._v("我的商品")]):t._e(),t.loginStatus?n("span",{on:{click:function(e){return t.handleRouteSelect("/mySave")}}},[t._v("我的收藏")]):t._e(),t.loginStatus?n("span",{on:{click:function(e){return t.handleRouteSelect("/star")}}},[t._v("我的关注")]):t._e(),t.loginStatus?n("span",{on:{click:function(e){return t.handleRouteSelect("/myView")}}},[t._v("足迹")]):t._e(),t.loginStatus?n("span",{on:{click:function(e){return t.handleRouteSelect("/chatTable")}}},[t._v("聊天")]):t._e(),t.loginStatus?n("span",{on:{click:function(e){return t.handleRouteSelect("/orders")}}},[t._v("订单")]):t._e(),t.loginStatus?n("span",{on:{click:function(e){return t.handleRouteSelect("/message")}}},[t._v("通知")]):t._e(),t.loginStatus?n("span",{on:{click:function(e){return t.handleRouteSelect("/post-product")}}},[t._v("发布商品")]):t._e(),t.loginStatus?n("div",{on:{click:function(e){return t.handleRouteSelect("/space?userId="+t.userInfo.id)}}},[n("img",{staticClass:"avatar",attrs:{src:t.userInfo.userAvatar}})]):n("span",{on:{click:t.loginOperation}},[t._v("登录 | 注册")])])]),n("div",{staticClass:"main-content"},[n("div",{staticClass:"search-bar"},[n("div",{staticClass:"word-search"},[n("div",{staticClass:"item"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.key,expression:"key"}],attrs:{type:"text",placeholder:"搜索商品"},domProps:{value:t.key},on:{input:function(e){e.target.composing||(t.key=e.target.value)}}}),n("i",{staticClass:"el-icon-search",on:{click:t.fetch}})])])]),n("div",{staticClass:"router-view-wrapper"},[n("router-view")],1)])])},o=[],s=n("2241"),i=n("5d2d"),c={name:"Home",components:{Logo:s["a"]},data(){return{selfPath:{name:"个人中心",path:"/mySelf"},userRoutes:[],key:null,dialogOperaion:!1,loginStatus:!1,userInfo:{},searchPath:"/search",productInfoList:[]}},created(){this.loadLoginStatus(),this.handleRouteSelect("/product")},methods:{queryProductInfo(){this.$axios.post("/product/queryProductInfo",{}).then(t=>{const{data:e}=t;200===e.code&&(this.productInfoList=e.data),this.loginStatus=200===e.code}).catch(t=>{console.log("商品指标查询异常：",t)})},loginOperation(){this.$router.push("/login")},fetch(){Object(i["g"])(this.key),this.handleRouteSelect(this.searchPath)},handleRouteSelect(t){this.$router.currentRoute.fullPath!==t&&this.$router.push(t)},loadLoginStatus(){const t=Object(i["d"])();null!==t?this.auth():this.loginStatus=!1},auth(){this.$axios.get("/user/auth").then(t=>{const{data:e}=t;200===e.code&&(Object(i["i"])(e.data),this.userInfo=e.data,this.queryProductInfo()),this.loginStatus=200===e.code}).catch(t=>{console.log("token检验异常：",t)})}}},l=c,u=(n("e904"),n("2877")),r=Object(u["a"])(l,a,o,!1,null,"746f5829",null);e["default"]=r.exports},e904:function(t,e,n){"use strict";n("9d110")}}]);
//# sourceMappingURL=chunk-40595b82.89e0d52f.js.map